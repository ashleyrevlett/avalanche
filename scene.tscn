[gd_scene load_steps=11 format=3 uid="uid://1i0se866c1tg"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_8h2uv"]
[ext_resource type="Texture2D" uid="uid://dhd7xyrddhrll" path="res://assets/l0_bg_1.png" id="1_8vm77"]
[ext_resource type="Script" path="res://scripts/character.gd" id="1_elf0q"]
[ext_resource type="Texture2D" uid="uid://b0k4oy3v10kqa" path="res://assets/l1_bg_1.png" id="1_qo76c"]
[ext_resource type="Script" path="res://scripts/camera.gd" id="3_s3w6k"]
[ext_resource type="PackedScene" uid="uid://b8wcb1enfr6ee" path="res://ground.tscn" id="8_spv53"]
[ext_resource type="Script" path="res://scripts/terrain.gd" id="8_tujsh"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g0o5x"]
size = Vector2(50, 50)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_770fh"]
size = Vector2(50, 50)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1esqg"]
size = Vector2(57.3876, 54)

[node name="Game" type="Node2D"]
position = Vector2(0, -2)
script = ExtResource("1_8h2uv")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
visible = false
offset = Vector2(2.08165e-12, -250)
transform = Transform2D(1, 0, 0, 1, 2.08165e-12, -250)

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.05, 0.05)
motion_mirroring = Vector2(2540, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(0, 498)
scale = Vector2(4, 4)
texture = ExtResource("1_8vm77")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.15, 0.15)
motion_mirroring = Vector2(1440, 2.08165e-12)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2(95, 494)
scale = Vector2(2.05938, 2.05938)
texture = ExtResource("1_qo76c")

[node name="Camera2D" type="Camera2D" parent="."]
unique_name_in_owner = true
script = ExtResource("3_s3w6k")

[node name="Character" type="CharacterBody2D" parent="."]
unique_name_in_owner = true
position = Vector2(-241, 125)
scale = Vector2(0.993246, 1)
collision_layer = 2
floor_stop_on_slope = false
script = ExtResource("1_elf0q")
speed = 700
jump_speed = -1500
acceleration = 0.35

[node name="CollisionShape2D" type="CollisionShape2D" parent="Character"]
unique_name_in_owner = true
position = Vector2(2.08165e-12, 2.08165e-12)
shape = SubResource("RectangleShape2D_g0o5x")

[node name="Sprite2D" type="Sprite2D" parent="Character"]
scale = Vector2(-2.92466, 4)
texture = SubResource("PlaceholderTexture2D_770fh")
hframes = 3
vframes = 4

[node name="GroundDetector" type="Area2D" parent="Character"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Character/GroundDetector"]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_1esqg")
debug_color = Color(0.513726, 0.772549, 0.478431, 0.419608)

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="Character"]
unique_name_in_owner = true

[node name="Terrain" type="Node2D" parent="."]
position = Vector2(0, -33)
script = ExtResource("8_tujsh")
ground_scene = ExtResource("8_spv53")

[node name="GameOverUI" type="CanvasLayer" parent="."]
unique_name_in_owner = true

[node name="VBoxContainer" type="VBoxContainer" parent="GameOverUI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -163.5
offset_top = -60.5
offset_right = 163.5
offset_bottom = 60.5
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 20

[node name="Label" type="Label" parent="GameOverUI/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Game Over"
horizontal_alignment = 1

[node name="RestartButton" type="Button" parent="GameOverUI/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Restart"

[connection signal="body_entered" from="Character/GroundDetector" to="Character" method="_on_ground_detector_body_entered"]
[connection signal="screen_entered" from="Character/VisibleOnScreenNotifier2D" to="Character" method="_on_screen_entered"]
[connection signal="screen_exited" from="Character/VisibleOnScreenNotifier2D" to="Character" method="_on_screen_exited"]
